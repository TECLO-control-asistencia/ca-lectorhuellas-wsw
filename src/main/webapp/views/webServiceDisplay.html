<meta charset="utf-8" />

<div class="row centerCol">
	<div class="col-xs-12 col-sm-10">
		<section class="content-header">
			<div class="row centerCol box-header with-border text-center">
				<div class="col-xs-12 col-sm-10">
					<div class="row centerRow">
						<div class="col-xs-12 col-sm-4">
							<h4>Cliente</h4>
							<span>{{wsData.webService.cliente.nombreCliente}}</span>
						</div>
						<div class="col-xs-12 col-sm-4">
							<h4>Versión</h4>
							<a ng-show="wsData.version.versionNombre!='Sin Versión'" data-toggle="modal" data-target="#myModal"><span>{{wsData.version.versionNombre}}</span></a>
							<span ng-show="wsData.version.versionNombre=='Sin Versión'">{{wsData.version.versionNombre}}</span>
						</div>
					</div>
					<div class="row centerCol">
						<div class="col-xs-12 col-sm-12">
							<h4>Descripción</h4>
							<p>{{wsData.webService.descripcionServicio}}</p>
						</div>
					</div>
				</div>
			</div>
		</section>
		
<!-- 		<section class="content-header text-center"> -->
<!-- 			<div class="row centerRow"> -->
<!-- 				<div class="col-xs-12 col-md-6"> -->
<!-- 					<h4>Ambiente productivo:</h4> -->
<!-- 					<strong> -->
<!-- 						<a>http://webapps.infracciones.df.gob.mx/teclocdmxalg</a> -->
<!-- 					</strong> -->
<!-- 				</div> -->
<!-- 				<div class="col-xs-12 col-md-6"> -->
<!-- 					<h4>Ambiente desarrollo:</h4> -->
<!-- 					<strong> -->
<!-- 						<a>http://webapps.infracciones.df.gob.mx/teclocdmxalg_pruebas</a> -->
<!-- 					</strong> -->
<!-- 				</div> -->
<!-- 			</div> -->
<!-- 		</section> -->
		
		<section  class="content">
			<div class="row centerRow">
				<div class="col-xs-12 col-sm-10">
					<div class="box box-danger">
						<div class="box-header with-border col-md-12">
							<div class="row">
								<div class="col-md-6">
									<h3 class="box-title">
										<span>Servicios Encontrados: </span> 
										<span>{{ (wsData.funciones | filter:filtroBusqueda).length }}</span>
									</h3>
								</div>
								<div class="col-md-6">
									<div class="input-group">
										<input id="searchsomething" type="text" class="form-control"
											placeholder="Filtrar por..." ng-model="filtroBusqueda" />
										<span class="input-group-addon">
											<i class="fa fa-search"></i>
										</span>
									</div>
								</div>
							</div>
						</div>
						<div class="box-body table-responsive">
							<table class="table table-hover header-fixed">
								<thead>
									<tr>
										<th class="text-center">#</th>
										<th class="text-center">DESCRIPCIÓN</th>
										<th class="text-center">URI</th>
										<th class="text-center">MÉTODO</th>
									</tr>
								</thead>
								<tbody>
									<tr dir-paginate="serv in wsData.funciones | orderBy:'numeroFuncion' | filter:filtroBusqueda | itemsPerPage: view.rowsPerPage">
										<td class="text-center">{{serv.numeroFuncion}}</td>
										<td class="wrap-text">{{serv.nombreFuncion}}</td>
										<td class="wrap-text">{{serv.nombreUri}}</td>
										<td class="text-center">{{serv.tpPeticion}}</td>
									</tr>
								</tbody>
							</table>
							
						</div>
						<div class="container-fluid">
							<div class="fixed-table-pagination" style="display: block;">
								<rows-per-page rows="view.rowsPerPage" filtro="filtroBusqueda"
									array="listServices"></rows-per-page>
								<div class="pull-right pagination">
									<dir-pagination-controls class="pagination"></dir-pagination-controls>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</div>
</div>
<!-- {{wsData}} -->

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="myModalLabel">Historial de Versiones de {{wsData.webService.nombreServicio}}</h4>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-md-4 col-xs-12">
						<div class="list-group">
<!-- 							<a ng-repeat="version in wsData.versiones" class="list-group-item" ng-click="setVersionReview(version)">{{version.versionNombre}}</a> -->
							<a ng-repeat="version in wsData.versiones" ng-class="['list-group-item',{'list-group-item-info' : version.selected}]" ng-click="setVersionReview(version)">{{version.versionNombre + (version.versionActual == 1 ? ' (Versión actual)' : '')}}</a>
						</div>
					</div>
					<div class="col-md-8 col-xs-12">
						<div class="panel panel-default">
							<div class="panel-heading">
								<div class="row">
									<div class="col-md-4 col-xs-12">
										<h4>Versión {{versionReview.versionNombre}}</h4>
									</div>
									<div class="col-md-8 col-xs-12">
										<h4><span id="fechaProdu"></span></h4>
									</div>
								</div>
							</div>
							<div class="panel-body">
								<ul style="list-style-type:none">
									<li ng-repeat="desc in versionReview.details">
										- {{desc}}
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" data-dismiss="modal">Cerrar</button>
			</div>
		</div>
	</div>
</div>